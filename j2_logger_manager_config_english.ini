; =======================
; j2/spdlog configuration file
; =======================
; Reload Classification Guide
; - [soft-load]: Immediately reflect without restarting (level/pattern/time/flush_on/periodic flush/disk monitoring ON/OFF, etc.)
; - [hard-load]: requires sink regeneration (on/off, path, rotational capacity/number of backups)
; - [init-only]: Read only from initialization (AUTO_RELOAD_SEC)
;
; HARD READ Beware
; - Immediately switch to a new file (preserve existing files), pay attention to permissions/network paths when file paths change
; - Reducing the number of rotations/backups does not immediately reduce files and will be applied from the next rotation
; - 64 bits recommended for very large capacity (GB to TB), note file system limits and limits

[Log]

; ===== [init-only] Read only the first time =====
AUTO_RELOAD_SEC=60

; ===== [hard-load] sink needs to be regenerated =====
ENABLE_CONSOLE_LOG=true
ENABLE_FILE_LOG_ALL=true
ENABLE_FILE_LOG_ALERTS=true

ALL_PATH=logs/all.log
ALERTS_PATH=logs/alerts.log

; a rotating policy
; Example > General Log up to 500MB = 100MB * 5
ALL_MAX_SIZE=100MB
ALL_MAX_FILES=5
; Example> Alert Log up to approximately 1 GB = 100 MB * 10
ALERT_MAX_SIZE=100MB
ALERT_MAX_FILES=10

; ===== [soft-load] Immediate reflection =====
TIME_MODE=local

; Minimum level (above)
;   trace, debug, info, alert, error, critical, off

CONSOLE_LEVEL=trace
; CONSOLE_LEVEL=critical

ALL_FILE_LEVEL=trace
ALERTS_FILE_LEVEL=warn
LOGGER_LEVEL=trace
FLUSH_ON_LEVEL=warn

; Periodic flush in seconds
FLUSH_EVERY_SEC=1

; Patterns
;   %Y %m %d %H %M %S %e = time
;   %l=Level %t=ThreadID %v=Message %^/%$=Color on/off
PATTERN_CONSOLE=[%Y-%m-%d %H:%M:%S.%e] [%^%l%$] [%t] %v
PATTERN_FILE=[%Y-%m-%d %H:%M:%S.%e] [%l] [%t] %v

; ===== Disk Monitoring (single, soft-load) =====
; Disk Monitoring ON/OFF
DISK_GUARD_ENABLE=false
; Path on disk (or mount/drive) to be monitored, for example) /hello or C:\hello
; DISK_ROOT=/hello
DISK_ROOT=C:\
; Stop logging files if the remaining percentage (%) is below the threshold (only console output)
DISK_MIN_FREE_RATIO=5
; Send UDP Notifications During File Logging Stopped
UDP_ALERT_IP=127.0.0.1
UDP_ALERT_PORT=10514
UDP_ALERT_INTERVAL_SEC=60
; Placeholder: {path}={DISK_ROOT}, {avail_bytes}=Bytes, {ratio}=Residual percentage (%)
UDP_ALERT_MESSAGE=DISK LOW: path={path} free={avail_bytes}B ({ratio}%)
